library(readr)
library(tidyr)
library(dplyr)
library(broom)
library(ggplot2)
library(ggExtra)
library(maps)
library(RColorBrewer)
install.packages("tidyverse")
# tidyverse has: dplyr,ggplot2,tibble,readr,tidyr,purrr
# install.packages("tidyverse")
install.packages("broom")
install.packages("ggExtra")
install.packages("maps")
install.packages("RColorBrewer")
library(tidyverse)
library(broom)
library(ggExtra)
library(maps)
library(RColorBrewer)
# Set WD automatically to where the R scrip is
setwd(dirname(rstudioapi::getSourceEditorContext()$path))
# Check the wd
getwd()
# Load data ----
load("LPIdata_Feb2016.RData")
load("puffin_GBIF.RData")
# Inspect data ----
View(head(LPIdata_Feb2016))
# Transform from wide to long format
LPI_long <- gather(data = LPIdata_Feb2016, key = "year", value = "pop", select = 26:70)
View(LPI_long)
View(LPIdata_Feb2016)
View(LPIdata_Feb2016)
# Set WD automatically to where the R scrip is
setwd(dirname(rstudioapi::getSourceEditorContext()$path))
# Check the wd
getwd()
rm(list = ls())
# Set WD automatically to where the R scrip is
setwd(dirname(rstudioapi::getSourceEditorContext()$path))
df.vil = read.csv("./data/mfr_village_post13_all.csv", stringsAsFactors = F)
df.liv = read.csv("./data/mfr_livelihood_post13_all.csv", stringsAsFactors = F)
## VILLAGE
df.vil <- tidyr::separate(data=df.vil,
col=wkt_geom,
into=c("delete", "Longitude","Latitude"),
sep=" ",
remove=FALSE)
df.vil$Latitude <- stringr::str_replace_all(df.vil$Latitude, "[)]", "")
df.vil$Longitude <- stringr::str_replace_all(df.vil$Longitude, "[()]", "")
df.vil$Latitude <- as.numeric(df.vil$Latitude)
df.vil$Longitude <- as.numeric(df.vil$Longitude)
village_data <-  subset(df.vil, select=-c(wkt_geom,delete,GID)) ## Delete the columns that we don't need ## in case you want to subset your dataset df[c(1:1000),]
saveRDS(village_data, "./data/village_data.rds")
rm(village_data) # keep the environment tidy
## LIVELIHOOD
df.liv <- tidyr::separate(data=df.liv,
col=wkt_geom,
into=c("delete", "Longitude","Latitude"),
sep=" ",
remove=FALSE)
df.liv$Latitude <- stringr::str_replace_all(df.liv$Latitude, "[)]", "")
df.liv$Longitude <- stringr::str_replace_all(df.liv$Longitude, "[()]", "")
df.liv$Latitude <- as.numeric(df.liv$Latitude)
df.liv$Longitude <- as.numeric(df.liv$Longitude)
livelihood_data <-  subset(df.liv, select=-c(wkt_geom,delete)) ## in case you want to subset your dataset df[c(1:1000),]
saveRDS(livelihood_data, "./data/livelihood_data.rds")
rm(livelihood_data) # keep the environment tidy
# Load data and store them as tibble ----
rm(list=ls())
# Load data and store them as tibble ----
#rm(list=ls())
df.vil <- readRDS("./data/village_data.rds")
df.liv <- readRDS("./data/livelihood_data.rds")
class(df.liv)
df.vil <- dplyr::tbl_df(readRDS("./data/village_data.rds"))
class(df.liv)
class(df.vil)
df.vil <- readRDS("./data/village_data.rds")
class(df.vil)
df.vil <- dplyr::tbl_df(readRDS("./data/village_data.rds"))
class(df.vil)
df.liv <- dplyr::tbl_df(readRDS("./data/livelihood_data.rds"))
class(df.liv)
